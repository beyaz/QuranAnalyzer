import{a as rt}from"./chunk-KH7ZNKZE.js";import{a as it}from"./chunk-EMKQGYXC.js";import{d as ot,e as Pe}from"./chunk-PU6LYOEU.js";var Ue=ot(se=>{"use strict";var xe=rt();se.createRoot=xe.createRoot,se.hydrateRoot=xe.hydrateRoot;var Kt});var K=Pe(it()),qe=Pe(Ue()),P=K.default.createElement,T="$Type",_="$RootNode",L="$ClientTasks",N="$SyncId",B="$State",ce="$ComponentDidMountMethod",g="$DotNetComponentUniqueIdentifier",S="$DotNetComponentUniqueIdentifiers",Ie="$ON_COMPONENT_DESTROY",Se="$CUSTOM_EVENT_LISTENER_MAP",v="DotNetProperties";function st(e){try{return{success:!0,fail:!1,value:e()}}catch(t){return{success:!1,fail:!0,exception:t}}}function ct(e,t){if(e==null||e.length===0)return;let n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}var ue=class{constructor(){this.map={}}subscribe(t,n){let o=this.map[t];o||(this.map[t]=o=[]),o.push(n)}unsubscribe(t,n){ct(this.map[t],n)}publish(t,n){if(n==null)throw p("Publish event arguments should be given in array. @Example: ReactWithDotNet.DispatchEvent('MovieNameChanged', ['The Shawshank Redemption']);");let o=this.map[t];if(!o)return;let i=o.slice(0);for(let s=0;s<i.length;s++)o.indexOf(i[s])>=0&&i[s].apply(null,[n])}},I={bus:new ue,On:function(e,t){I.bus.subscribe(e,t)},Dispatch:function(e,t){I.bus.publish(e,t)},Remove:function(e,t){I.bus.unsubscribe(e,t)}},ae=[];function ut(e){for(let t=0;t<ae.length;t++)ae[t](e)}function at(e){ae.push(e)}var le={};function lt(e,t){if(e==null)throw p("Missing argument. @dotNetFullNameOfThirdPartyComponent cannot be null.");if(t==null)throw p("Missing argument. @fn cannot be null.");let n=le[e];n||(n=le[e]=[]),n.push(t)}function ft(e,t,n){if(e==null)throw p("Missing argument. @dotNetFullNameOfThirdPartyComponent cannot be null.");let o=le[e];if(o)for(let i=0;i<o.length;i++)t=o[i](t,n);return t}function dt(e){let t=document.querySelector("head");if(t==null)return{error:"Head element not found in document."};if(t.querySelector('link[href*="'+e+'"]'))return{isAlreadyLoaded:!0};let o=document.createElement("link");return o.rel="stylesheet",o.href=e,o.type="text/css",t.appendChild(o),{loadStarted:!0}}function mt(e){return e.id!==""}function pt(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function $e(e){let t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),setTimeout(e,1))},10)}function ht(e){if(Rt(e))return!1;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var fe=[],G=[],z=!1,U=!1;function R(){z=!1,U!==!0&&Ne()}var k=null;function Ne(){if(z===!0)throw p("ReactWithDotNet event queue problem occured.");if(G.length===0&&fe.length>0&&Te(fe.shift()),G.length>0){let e=G.shift();if(e.isValid===!1){Ne();return}z=!0,e.prev=k,k=e,e.fn(e)}}var yt=1;k=null;function Te(e,t){let n={fn:e,isValid:!0,id:yt++};return G.push(n),t===!0||z===!1&&U===!1&&Ne(),n}function We(e){let t=k,n=G,o=!1;if(t&&(t.name===e||t.prev&&t.prev.name===e)&&(t.isValid=!1,o=!0),o){for(let i=0;i<n.length;i++)n[i].isValid=!1;return}for(let i=0;i<n.length;i++)if(n[i].name===e){for(let s=i;s<n.length;s++)n[s].isValid=!1;break}}function de(e,t,n){z=!0,e.setState(t,n)}function Le(e,t){t=typeof t=="string"?t.split("."):t;let n=t.length;for(let o=0;o<n;o++){if(e==null)return{success:!1,error:p("Path is not read. Path:"+t.join("."))};let i=t[o];i==="["&&(i=t[o+1],o++,o++),e=e[i]}return{success:!0,value:e}}function ke(e,t){let n=Le(e,t);if(n.success)return n.value;throw n.error}function Ct(e,t,n){if(e==null)throw p("SetValueInPath->"+n);let o=t.length;for(let i=0;i<o;i++){let s=t[i];if(o===i+3&&t[i]==="["&&t[i+2]==="]"){e[t[i+1]]=n;return}e[s]==null&&(e[s]={}),i===o-1?e[s]=n:(s==="["&&(s=t[i+1],i++,i++),e=e[s])}}function y(e){if(e==null)throw p("value cannot be null.");return e}function Q(e){if(typeof e=="number"&&!isNaN(e))return e;throw p("value should be number.")}function gt(e,t){return e==null?t:e}function It(e){return JSON.parse(JSON.stringify(e))}function St(e,t){return t===void 0?e:e==null?t:e}var _e=(e,t)=>{let n=e.breadcrumb;t.key!==null&&(n=n+","+t.key);let o={map:e.map,breadcrumb:n};if(t.type&&t.type[T]){let r=e.map;if(r[n]!==void 0)throw p("Problem when traversing nodes");r[n]={StateAsJson:JSON.stringify(t.stateNode.state[B]),FullTypeNameOfComponent:t.stateNode.state[T],ComponentUniqueIdentifier:t.stateNode.state[g]}}let s=t.child;for(;s;)_e(o,s),s=s.sibling},Nt=e=>{e.alternate&&e.actualStartTime<e.alternate.actualStartTime&&(e=e.alternate);let t=e.key,n={};n[t]={StateAsJson:JSON.stringify(e.stateNode.state[B])};let o={map:n,breadcrumb:t},i=e.child;for(;i;)_e(o,i),i=i.sibling;n[t][v]=Object.assign({},y(e.stateNode.state[v]));{let s=Le(e.stateNode,"props.$jsonNode.$LogicalChildrenCount");s.success&&(n[t][v].$LogicalChildrenCount=s.value)}return{stateTree:n,rootNodeKey:t}},X=(()=>{let e=1;return()=>e++})(),Tt=1;function Et(e){e.$DotNetComponentInstanceId=Tt++}var me=class{constructor(t){this.data=t,this.next=null}},pe=class{constructor(){this.head=null,this.size=0}add(t){let n=new me(t),o;if(this.head==null)this.head=n;else{for(o=this.head;o.next;)o=o.next;o.next=n}this.size++}removeFirst(t){let n=this.head,o=null;for(;n!=null;){if(t(n.data)===!0)return o==null?this.head=n.next:o.next=n.next,this.size--,n.data;o=n,n=n.next}return-1}first(t){let n=this.head;for(;n!=null;){if(t(n.data)===!0)return n.data;n=n.next}return null}};function vt(e,t){for(let n=0;n<e.length;n++){let o=e[n];t.indexOf(o)>=0||t.push(o)}}var he=class{constructor(){this.component=null,this.freeSpace={},this.freeSpace[Se]={},this.freeSpace[Ie]=[]}},ye=class{constructor(){this.linkedList=new pe}Register(t){y(t);{let o=s=>s.component===t;if(this.linkedList.first(o))return}{let o=s=>s.component[S][0]===t[S][0],i=this.linkedList.first(o);if(i){vt(i.component[S],t[S]),i.component=t;return}}let n=new he;n.component=t,this.linkedList.add(n)}FindComponentByDotNetComponentUniqueIdentifier(t){let n=this.FindFirstCacheItemByDotNetComponentUniqueIdentifier(t);return n?n.component:null}GetFreeSpaceOfComponent(t){let n=this.FindFirstCacheItemByDotNetComponentUniqueIdentifier(t);if(n)return n.freeSpace;throw p("AccessToFreeSpace -> ComponentNotFound. dotNetComponentUniqueIdentifier:"+t)}FindFirstCacheItemByDotNetComponentUniqueIdentifier(t){let n=o=>o.component&&o.component[S]?o.component[S].indexOf(t)>=0:!1;return this.linkedList.first(n)}Unregister(t){this.linkedList.removeFirst(n=>n.component===t)}},V=new ye;function Z(e){return V.GetFreeSpaceOfComponent(e[S][0])}function O(e){let t=V.FindComponentByDotNetComponentUniqueIdentifier(e);if(t==null)throw p("Component not found. dotNetComponentUniqueIdentifier: "+e);return t}function J(e){return O(e)[S][0]}function oe(e,t){if(e===t)return!0;if(e instanceof Date&&typeof t instanceof Date)return e.valueOf()===t.valueOf();if(typeof e=="object"&&typeof t=="object")return wt(e,t)}function wt(e,t){let n;for(n in e)if(e.hasOwnProperty(n)&&!oe(e[n],t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!oe(e[n],t[n]))return!1;return!0}function Dt(e){return e.state.$CachedMethods}function Ee(e,t,n){let o=Dt(e);if(o==null)return null;for(let i=0;i<o.length;i++){let s=o[i];if(s.MethodName===t&&s.IgnoreParameters||t==="componentDidMount"&&s.MethodName.endsWith("|componentDidMount")||s.MethodName===t&&n.length===1&&oe(n[0],s.Parameter))return s}return null}function Ot(e,t){let n=t.remoteMethodName,o=t.HandlerComponentUniqueIdentifier,i=t.FunctionNameOfGrabEventArguments,s=t.StopPropagation,r=t.HtmlElementScrollDebounceTimeout,c=t.KeyboardEventCallOnly;y(n),y(o);let a=e.$onClickPreview,m=null;return a&&(m=function(){let u=O(a.$DotNetComponentUniqueIdentifier),l=j(u.state,a);u.setState(l)}),function(){if(s){if(arguments.length===0)throw p("There is no event argument for applying StopPropagation");if(arguments[0]==null||arguments[0].constructor.prototype.stopPropagation==null)throw p("Event argument not support StopPropagation");arguments[0].stopPropagation()}let u=Array.prototype.slice.call(arguments);if(c){let C=arguments[0].key;if(c.indexOf(C)<0)return;u[0].preventDefault(),u[0]=Ft(u[0])}let l=O(o);i&&(u=A(i)(u));let f=Ee(l,n,u);if(f){let C=j(l.state,f.ElementAsJson);l.setState(C);return}if(r>0){let C=u[0]._reactName,M=C+"-debounce-"+J(o);We(M);let q=C+"-debounceTimeoutId";clearTimeout(l.state[q]);let $={};$[q]=setTimeout(()=>{let W=E({component:l,remoteMethodName:n,remoteMethodArguments:u});W.name=M},r),$[N]=X(),l.setState($);return}E({component:l,remoteMethodName:n,remoteMethodArguments:u,onPreviewHandler:m})}}function He(e,t,n){if(t&&t.$FakeChild===e)return n;let o=t.$children,i=n.$children;if(o&&i&&o.length<=i.length){let s=o.length;for(let r=0;r<s;r++){let c=He(e,o[r],i[r]);if(c!=null)return c}}return null}function x(e,t){if(e==null)return null;if(typeof e=="string")return e;if(e.$FakeChild!=null&&(e=He(e.$FakeChild,t.state[_],t.props.$jsonNode[_])),e.$isPureComponent===1){let r=Ve(e),a={key:y(e.key),$jsonNode:e};return e.$props&&Object.assign(a,e.$props),P(r,a)}if(e[T]){let r=Ke(e),a={key:y(e.key),$jsonNode:e},m=e.$ReactAttributeNames;if(m)for(let l=0;l<m.length;l++){let f=m[l];a[f]=e[v][f]}let u=V.FindComponentByDotNetComponentUniqueIdentifier(e[g]);if(u){let l=Q(u.state[N]),f=Q(u.props[N]);a[N]=Math.max(f,l)}else a[N]=X();return e.$props&&Object.assign(a,e.$props),P(r,a)}let n=null,o=e.$tag;if(!o)throw p("ReactNode is not recognized");let i=!1;if(o.indexOf(".")>0&&(ut(o),o=A(o),i=!0),o==="nbsp")return e&&e.length?Array(e.length).fill("\xA0").join(""):"\xA0";for(let r in e){if(!e.hasOwnProperty(r)||r[0]==="$")continue;n===null&&(n={});let c=e[r];if(c!=null){if(c.$isRemoteMethod===!0){n[r]=Ot(e,c);continue}if(c.$isBinding===!0){let u=c.targetProp,l=c.eventName,f=c.sourcePath,h=c.sourceIsState,C=c.DebounceTimeout,M=c.DebounceHandler,q=c.jsValueAccess,$=A(St(c.transformFunction,"ReactWithDotNet::Core::ReplaceEmptyStringWhenIsNull")),ee=c.HandlerComponentUniqueIdentifier,W=v;h&&(W=B),n[u]=$(ke(O(ee).state[W],f)),n[l]=function(tt){let te=O(ee),Re=It(te.state[W]);Ct(Re,f,$(ke({e:tt},q)));let ne={};if(ne[W]=Re,C>0){let be=l+"-debounce-"+J(ee);We(be);let Fe=l+"-debounceTimeoutId";clearTimeout(te.state[Fe]),ne[Fe]=setTimeout(()=>{let nt=E({component:te,remoteMethodName:M,remoteMethodArguments:[]});nt.name=be},C)}ne[N]=X(),te.setState(ne)};continue}if(c.$isElement===!0){n[r]=x(c.Element,t);continue}let a=c.___ItemTemplates___,m=c.___TemplateForNull___;if(a){n[r]=function(u){if(u==null&&m)return x(m);let l=a.length;for(let f=0;f<l;f++){let h=a[f].Item,C=a[f].ElementAsJson;if(u&&u.key!=null&&h.key!=null&&h.key===u.key)return x(C)}for(let f=0;f<l;f++){let h=a[f].Item,C=a[f].ElementAsJson;if(JSON.stringify(h)===JSON.stringify(u))return x(C)}throw p("item template not found")};continue}if(c.$transformValueFunction){n[r]=A(c.$transformValueFunction)(c.RawValue);continue}}n[r]=e[r]}if(i===!0&&(n=ft(e.$tag,n,t)),e.$text!=null)return P(o,n,e.$text);let s=e.$children;if(s){let r=s.length;if(r===1)return P(o,n,x(s[0],t));let c=[];for(let a=0;a<r;a++)c.push(x(s[a],t));return P(o,n,c)}return P(o,n)}function Rt(e){let t=typeof e;return t==="string"||t==="number"||t==="boolean"||e instanceof Date||e instanceof Array}function ve(e){let t=gt(pt(e.target,mt),e.target).id;return t===""&&(t=null),{FirstNotEmptyId:t,altKey:e.altKey,bubbles:e.bubbles,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,timeStamp:e.timeStamp,type:e.type,target:D(e.target),currentTarget:D(e.currentTarget)}}function bt(e){return{currentTarget:D(e.currentTarget),target:D(e.target),timeStamp:e.timeStamp,type:e.type}}function Ft(e){return{currentTarget:D(e.currentTarget),target:D(e.target),timeStamp:e.timeStamp,type:e.type,keyCode:e.keyCode,key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,which:e.which}}function Pt(e){let t=D(e.target);return{bubbles:e.bubbles,target:t,timeStamp:e.timeStamp,type:e.type}}function D(e){if(e==null)return null;let t=null;e.value!=null&&typeof e.value=="string"&&(t=e.value);let n=null;e.selectedIndex!=null&&typeof e.selectedIndex=="number"&&(n=e.selectedIndex);let o=null;return e.selectionStart!=null&&typeof e.selectionStart=="number"&&(o=e.selectionStart),{id:e.id,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,selectedIndex:n,selectionStart:o,tagName:e.tagName,value:t,data:e.dataset,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth}}function Be(e,t){if(e!=null)for(let n=0;n<e.length;n++){let o=e[n].JsFunctionPath,i=e[n].JsFunctionArguments;Ge(o,t,i)}}function E(e){function t(n){e.executionQueueEntry=n,kt(e)}return Te(t)}function xt(e){try{return e.constructor.prototype.constructor.name==="SyntheticBaseEvent"}catch(t){return!1}}function Ut(e){if(e)for(let t=0;t<e.length;t++){let n=e[t];if(xt(n)){let o=n._reactName;o&&(o.indexOf("Mouse")>0?e[t]=ve(n):o==="onScroll"&&(e[t]=bt(n)))}}}function kt(e){let t=e.remoteMethodName,n=y(e.component);if(n.ComponentWillUnmountIsCalled){U=!1,R();return}if(n=O(n[S][0]),n._reactInternals==null)throw p("Component is not ready to send server.");let o=n[T]==="ReactWithDotNet.UIDesigner.ReactWithDotNetDesignerComponentPreview,ReactWithDotNet",i=st(()=>Nt(n._reactInternals));if(i.fail)throw o&&location.reload(),i.exception;let s=i.value.stateTree,r=i.value.rootNodeKey,c={MethodName:"HandleComponentEvent",EventHandlerMethodName:y(t),FullName:y(n.constructor)[T],CapturedStateTree:s,CapturedStateTreeRootNodeKey:r,ComponentKey:parseInt(y(n.props.$jsonNode.key)),LastUsedComponentUniqueIdentifier:Y,ComponentUniqueIdentifier:y(n.state[g]),CallFunctionId:e.executionQueueEntry.id};e.onlyUpdateState&&(c.OnlyUpdateState=!0,c.CapturedStateTree={},c.CapturedStateTree[r]=s[r]),Ut(e.remoteMethodArguments),c.EventArgumentsAsJsonArray=e.remoteMethodArguments.map(JSON.stringify);function a(u){if(U=!1,u.CallFunctionId>0&&k&&k.id===u.CallFunctionId&&k.isValid===!1){R();return}if(u.ErrorMessage!=null)throw p(u.ErrorMessage);u.LastUsedComponentUniqueIdentifier>Y&&(Y=u.LastUsedComponentUniqueIdentifier);let l=u.DynamicStyles;function f(){je(l),R()}if(e.onlyUpdateState){n.state[B]=u.NewState,n.state[v]=u.NewDotNetProperties,u.ClientTaskList&&(n.state[L]=u.ClientTaskList,Ce(n)),f();return}let h=j(n.state,u.ElementAsJson);de(n,h,f)}function m(u){if(o){setTimeout(()=>ge(c,a,m),1e3);return}console.error(u),U=!1,R()}e.onPreviewHandler&&e.onPreviewHandler(),ge(c,a,m)}function j(e,t){if(y(e[g])!==y(t[g])){let n=V.FindComponentByDotNetComponentUniqueIdentifier(e[g]);n&&n[S].push(t[g])}return t[N]=X(),t}var ie={};function Je(e){let t=!1;for(let n=0;n<w.length;n++)e.indexOf(w[n].componentUniqueIdentifier)>=0&&(w.splice(n,1),n--,t=!0);t&&Ze()}function At(e){let t=Z(e)[Ie];for(let n=0;n<t.length;n++)t[n]()}function b(e,t){Z(e)[Ie].push(t)}function Mt(e){At(e),Je(e[S]),V.Unregister(e)}function Ce(e){let t=e.state[L];if(t==null||t.length===0||e.ComponentWillUnmountIsCalled===!0)return!1;let n=Z(e);return n.lastProcessedClientTasks===t?!1:(n.lastProcessedClientTasks=t,Be(t,e),!0)}function Ke(e){let t=e[T];t==="ReactWithDotNet.FunctionalComponent,ReactWithDotNet"&&(t=e[v].RenderMethodNameWithToken);let n=ie[t];if(n)return n;let o=e[T];class i extends K.default.Component{constructor(r){super(r||{});let c=this,a={};r&&(Object.assign(a,r.$jsonNode),a[N]=Q(r[N])),c.state=a,a[T]=c[T]=o,c[S]=[y(r.$jsonNode[g])],Et(c),V.Register(c)}render(){return x(this.state[_],this)}componentDidMount(){let r=this;function c(m){let u=r.state[ce];if(u==null){m!==!0&&R();return}{let h=Ee(r,"componentDidMount",[]);if(h){let q=function(){Be(M,r),R()},C=j(r.state,h.ElementAsJson),M=C[L];C[ce]=null,C[L]=null,de(r,C,q);return}}let l={};l[ce]=null;function f(){E({component:r,remoteMethodName:u,remoteMethodArguments:[]}),R()}de(r,l,f)}Ce(this)?Te(c,!0):c(!0)}componentDidUpdate(r,c){Ce(this)}componentWillUnmount(){if(this.ComponentWillUnmountIsCalled===!0)throw"componentWillUnmount -> ComponentWillUnmountIsCalled called twice";this.ComponentWillUnmountIsCalled=!0,Mt(this)}static getDerivedStateFromProps(r,c){let a=Q(c[N]),m=Q(r[N]);if(a>m){let u=y(c[g]),l=y(r.$jsonNode[g]);if(u!==l){O(u)[S].push(l);let h={};return h[g]=l,h}return null}if(a<m){let u={};u[N]=m,u[_]=r.$jsonNode[_],u[L]=r.$jsonNode[L],u[v]=y(r.$jsonNode[v]),u[B]=y(r.$jsonNode[B]);let l=y(c[g]),f=y(r.$jsonNode[g]);return l!==f&&O(l)[S].push(f),u[g]=f,u}return null}}return i[T]=o,ie[t]=i,i.displayName=o.split(",")[0].split(".").pop(),i.displayName==="FunctionalComponent"&&(i.displayName=e[v].Name),i}function Ve(e){let t=e[T],n=ie[t];if(n)return n;class o extends K.default.PureComponent{render(){return x(this.props.$jsonNode[_],this)}componentWillUnmount(){let s=y(this.props.$jsonNode[g]);Je([s])}}return ie[t]=o,o.displayName=t.split(",")[0].split(".").pop(),o}function ge(e,t,n){U=!0,e.ClientWidth=document.documentElement.clientWidth,e.ClientHeight=document.documentElement.clientHeight,e.QueryString=window.location.search;let o=H.RequestHandlerUrl,i={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};H.BeforeSendRequest&&H.BeforeSendRequest(i),window.fetch(o,i).then(s=>s.json()).then(s=>t(s)).catch(n)}var Y=1;function Ae(e,t){if(t.ErrorMessage!=null)throw t.ErrorMessage;je(t.DynamicStyles);let n=t.ElementAsJson,o=n.$isPureComponent===1?Ve(n):Ke(n);Y=t.LastUsedComponentUniqueIdentifier;function i(a){a&&R()}let s={key:"0",$jsonNode:n,ref:i};s[N]=X();let r=P(o,s),c=(0,qe.createRoot)(document.getElementById(e));H.StrictMode?c.render(P(K.default.StrictMode,null,r)):c.render(r)}function qt(e){if(e.renderInfo){if(e.idOfContainerHtmlElement==null)throw p("idOfContainerHtmlElement cannot be null.");setTimeout(()=>Ae(e.idOfContainerHtmlElement,e.renderInfo),10);return}let t=e.fullTypeNameOfReactComponent,n=e.containerHtmlElementId;$e(function(){let o={MethodName:"FetchComponent",FullName:t,LastUsedComponentUniqueIdentifier:Y,ComponentUniqueIdentifier:1};function i(r){U=!1,Ae(n,r)}function s(r){throw r}ge(o,i,s)})}function Ge(e,t,n){return A(e).apply(t,n)}var re={"React.Fragment":K.default.Fragment};function we(e,t){return re[e]!=null&&console.log(e+" already registered."),re[e]=t}function A(e){let t=Wt(e);if(t!=null){if(t.isCacheEnabled===!0){if(t.value==null)throw p(e+" ==> isCacheEnabled is true but value property is null.");return we(e,t.value),t.value}return t}let n=re[e];if(n==null)throw p(e+" External js object not not found. You should register by using method: ReactWithDotNet.RegisterExternalJsObject");return n}var Qe=[];function $t(e){Qe.push(e)}function Wt(e){let t=Qe,n=t.length;for(let o=0;o<n;o++){let i=t[o](e);if(i!=null)return i}}function d(e,t){we("ReactWithDotNet::Core::"+e,t)}re["ReactWithDotNet.GetExternalJsObject"]=A;d("RegExp",e=>new RegExp(e));d("IsTwoObjectEquals",oe);d("CopyToClipboard",function(e){if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(e);return}if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(n){return console.warn("Copy to clipboard failed.",n),!1}finally{document.body.removeChild(t)}}});d("RunJavascript",e=>{window.eval(e)});d("ReplaceNullWhenEmpty",function(e){return ht(e)?null:e});d("EmptyTransformFunction",function(e){return e});d("ReplaceEmptyStringWhenIsNull",function(e){return e==null?"":e});d("ListenWindowResizeEvent",function(e){let t=null;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){De("ReactWithDotNet::Core::OnWindowResize",[],0)},e)})});d("ConvertDotnetSerializedStringDateToJsDate",function(e){return e==null||e===""?null:new Date(e)});d("CalculateSyntheticMouseEventArguments",e=>[ve(e[0])]);d("CalculateSyntheticChangeEventArguments",e=>[Pt(e[0])]);d("CalculateSyntheticFocusEventArguments",e=>{let t=e[0];return[{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:D(t.currentTarget),defaultPrevented:t.defaultPrevented,detail:t.detail,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:D(t.target),relatedTarget:D(t.relatedTarget),timeStamp:t.timeStamp,type:t.type}]});function Ye(e,t,n){let o=new Date;o.setDate(o.getDate()+n),document.cookie=[e+"="+encodeURI(t),"expires="+o.toUTCString(),"path=/"].join(";")}function Lt(e){let t=document.cookie.split(";");for(let n=0;n<t.length;n++){let o=t[n].split("=");if(e===o[0].trim())return decodeURIComponent(o[1])}return null}d("SetCookie",Ye);d("HistoryBack",function(){window.history.back()});d("HistoryForward",function(){window.history.forward()});d("HistoryGo",function(e){window.history.go(e)});d("HistoryReplaceState",function(e,t,n){e==null&&(e={}),window.history.replaceState(e,t,n)});d("GotoMethod",function(e,t,n){let o=this;n=n||[],setTimeout(()=>{if(o.ComponentWillUnmountIsCalled)return;let i=Ee(o,t,n);if(i){let r=j(o.state,i.ElementAsJson);o.setState(r);return}E({component:o,remoteMethodName:t,remoteMethodArguments:n})},e)});function De(e,t,n){setTimeout(()=>{I.Dispatch(e,t||[]),fe.push(function(){I.Dispatch("$<<finished>>$"+e+"$<<finished>>$",t||[]),R()})},n)}d("DispatchEvent",De);function ze(e,t){return["senderPropertyFullName:"+e,"senderComponentUniqueIdentifier:"+t].join(",")}d("DispatchDotNetCustomEvent",function(e,t){let n=e.SenderPropertyFullName,o=J(e.SenderComponentUniqueIdentifier),i=ze(n,o);I.Dispatch(i,t)});d("ListenEvent",function(e,t){let n=this,o=i=>{if(n.ComponentWillUnmountIsCalled)return;let r=E({component:n,remoteMethodName:t,remoteMethodArguments:i});b(n,()=>{r.isValid=!1})};b(n,()=>{I.Remove(e,o)}),I.On(e,o)});d("ListenEventThenOnlyUpdateState",function(e,t){let n=this,o=i=>{if(n.ComponentWillUnmountIsCalled)return;let r=E({component:n,remoteMethodName:t,remoteMethodArguments:i,onlyUpdateState:!0});b(n,()=>{r.isValid=!1})};b(n,()=>{I.Remove(e,o)}),I.On(e,o)});d("ListenEventOnlyOnce",function(e,t){let n=this,o=i=>{I.Remove(e,o);let r=E({component:n,remoteMethodName:t,remoteMethodArguments:i});b(n,()=>{r.isValid=!1})};b(n,()=>{I.Remove(e,o)}),I.On(e,o)});d("InitializeDotnetComponentEventListener",function(e,t,n){let o=this;if(o.ComponentWillUnmountIsCalled)return;let i=Z(o)[Se],s=e.SenderPropertyFullName,r=J(e.SenderComponentUniqueIdentifier);n=J(n);let c=u=>{let l=O(n),h=E({component:l,remoteMethodName:t,remoteMethodArguments:u});b(l,()=>{h.isValid=!1})},a=["senderPropertyFullName:"+s,"senderComponentUniqueIdentifier:"+r,"handlerComponentUniqueIdentifier:"+n].join(",");if(i[a])return;i[a]=c;let m=ze(s,r);b(o,()=>{I.Remove(m,c),i[a]=null}),I.On(m,c)});function _t(e){let t=window.location;t.assign(t.origin+e)}d("NavigateTo",_t);function Xe(e,t,n,o,i){let s=Z(e)[Se],r=t==="remove";i=J(i);function c(m){let u=document.getElementById(n);if(u==null)return;if(!u.contains(m.target)){let h={component:O(i),remoteMethodName:o,remoteMethodArguments:[ve(m)]};E(h)}}let a="OnOutsideClicked(IdOfElement:"+n+", remoteMethodName:"+o+", @handlerComponentUniqueIdentifier:"+i+")";if(s[a]){r&&(document.removeEventListener("click",s[a]),s[a]=null);return}r||(s[a]=c,document.addEventListener("click",c),b(e,()=>{document.removeEventListener("click",c),s[a]=null}))}d("AddEventListener",function(e,t,n,o){if(t==="OutsideClick")Xe(this,"add",e,n,o);else throw p("InvalidUsageOfAddEventListener")});d("RemoveEventListener",function(e,t,n,o){if(t==="OutsideClick")Xe(this,"remove",e,n,o);else throw p("InvalidUsageOfRemoveEventListener")});function p(e){return new Error(`
ReactWithDotNet developer error occured.
`+e)}var w=[],F=null;function Me(e){let t=e.indexOf("._rwd_"),n=e.indexOf("_",t+6),o=parseInt(e.substring(t+6,n));if(isNaN(o))throw p("componentUniqueIdentifier cannot calculated from "+e);return o}function je(e){if(e==null||e.length===0)return;let t;for(t in e)if(e.hasOwnProperty(t)){let n=Me(t);for(let o=0;o<w.length;o++)w[o].componentUniqueIdentifier===n&&(w.splice(o,1),o--)}for(t in e)if(e.hasOwnProperty(t)){let n=e[t];w.push({cssSelector:t,cssBody:n,componentUniqueIdentifier:Me(t)})}Ze()}function Ze(){if(F===null){let n="ReactWithDotNetDynamicCss";F=document.getElementById(n),F==null&&(F=document.createElement("style"),F.id=n,document.head.appendChild(F))}let e=[];for(let n=0;n<w.length;n++){let o=w[n].cssSelector,i=w[n].cssBody;e.push(""),e.push(o),e.push("{"),e.push(i),e.push("}"),o.indexOf("@media ")===0&&e.push("}")}let t=e.join(`
`);Ht(F.innerHTML,t)||(F.innerHTML=t)}function Ht(e,t){if(e==null||t==null)return!1;let n=/\s/g;return e=e.replace(n,""),t=t.replace(n,""),e===t}function Oe(){return document.documentElement.clientWidth<=767}function et(){return document.documentElement.clientWidth<=1023&&Oe()===!1}function Bt(){return Oe()===!1&&et()===!1}var H={StrictMode:!1,RequestHandlerUrl:"/HandleReactWithDotNetRequest",OnDocumentReady:$e,StartAction:E,DispatchEvent:De,RenderComponentIn:qt,BeforeSendRequest:e=>e,RegisterExternalJsObject:we,GetExternalJsObject:A,BeforeAnyThirdPartyComponentAccess:at,TryLoadCssByHref:dt,OnThirdPartyComponentPropsCalculated:lt,OnFindExternalObject:$t,IsMediaMobile:Oe,IsMediaTablet:et,IsMediaDesktop:Bt,Call:Ge,Util:{SetCookie:Ye,GetCookie:Lt}};window.ReactWithDotNet=H;var Gt=H;export{Gt as a};
