import{a as it}from"./chunk-KH7ZNKZE.js";import{a as ot}from"./chunk-EMKQGYXC.js";import{d as nt,e as be}from"./chunk-PU6LYOEU.js";var Fe=nt(se=>{"use strict";var xe=it();se.createRoot=xe.createRoot,se.hydrateRoot=xe.hydrateRoot;var Jt});var M=be(ot()),Ae=be(Fe()),b=M.default.createElement,T="$Type",H="$RootNode",L="$ClientTasks",S="$SyncId",J="$State",ce="$ComponentDidMountMethod",g="$DotNetComponentUniqueIdentifier",I="$DotNetComponentUniqueIdentifiers",ge="$ON_COMPONENT_DESTROY",Ie="$CUSTOM_EVENT_LISTENER_MAP",v="DotNetProperties";function rt(e){try{return{success:!0,fail:!1,value:e()}}catch(t){return{success:!1,fail:!0,exception:t}}}function st(e,t){if(e==null||e.length===0)return;let n=e.indexOf(t);return n>=0?(e.splice(n,1),!0):!1}var ue=class{constructor(){this.map={}}subscribe(t,n){let o=this.map[t];o||(this.map[t]=o=[]),o.push(n)}unsubscribe(t,n){st(this.map[t],n)}publish(t,n){if(n==null)throw p("Publish event arguments should be given in array. @Example: ReactWithDotNet.DispatchEvent('MovieNameChanged', ['The Shawshank Redemption']);");let o=this.map[t];if(o==null||o.length===0)return;let i=o.slice(0);for(let r=0;r<i.length;r++)o.indexOf(i[r])>=0&&i[r].apply(null,[n])}},N={bus:new ue,On:function(e,t){N.bus.subscribe(e,t)},Dispatch:function(e,t){N.bus.publish(e,t)},Remove:function(e,t){N.bus.unsubscribe(e,t)}},ae=[];function ct(e){for(let t=0;t<ae.length;t++)ae[t](e)}function ut(e){ae.push(e)}var le={};function at(e,t){if(e==null)throw p("Missing argument. @dotNetFullNameOfThirdPartyComponent cannot be null.");if(t==null)throw p("Missing argument. @fn cannot be null.");let n=le[e];n||(n=le[e]=[]),n.push(t)}function lt(e,t,n){if(e==null)throw p("Missing argument. @dotNetFullNameOfThirdPartyComponent cannot be null.");let o=le[e];if(o)for(let i=0;i<o.length;i++)t=o[i](t,n);return t}function ft(e){let t=document.querySelector("head");if(t==null)return{error:"Head element not found in document."};if(t.querySelector('link[href*="'+e+'"]'))return{isAlreadyLoaded:!0};let o=document.createElement("link");return o.rel="stylesheet",o.href=e,o.type="text/css",t.appendChild(o),{loadStarted:!0}}function dt(e){return e.id!==""}function mt(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function Me(e){let t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),setTimeout(e,1))},10)}function pt(e){if(Rt(e))return!1;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ne=[],z=!1,P=!1;function F(){z=!1,P!==!0&&Se()}var U=null;function Se(){if(z===!0)throw p("ReactWithDotNet event queue problem occured.");if(ne.length>0){let e=ne.shift();if(e.isValid===!1){Se();return}z=!0,e.prev=U,U=e,e.fn(e)}}var ht=1;U=null;function qe(e,t){let n={fn:e,isValid:!0,id:ht++};return ne.push(n),t===!0||z===!1&&P===!1&&Se(),n}function $e(e){let t=U,n=ne,o=!1;if(t&&(t.name===e||t.prev&&t.prev.name===e)&&(t.isValid=!1,o=!0),o){for(let i=0;i<n.length;i++)n[i].isValid=!1;return}for(let i=0;i<n.length;i++)if(n[i].name===e){for(let r=i;r<n.length;r++)n[r].isValid=!1;break}}function fe(e,t,n){z=!0,e.setState(t,n)}function We(e,t){t=typeof t=="string"?t.split("."):t;let n=t.length;for(let o=0;o<n;o++){if(e==null)return{success:!1,error:p("Path is not read. Path:"+t.join("."))};let i=t[o];i==="["&&(i=t[o+1],o++,o++),e=e[i]}return{success:!0,value:e}}function Pe(e,t){let n=We(e,t);if(n.success)return n.value;throw n.error}function yt(e,t,n){if(e==null)throw p("SetValueInPath->"+n);let o=t.length;for(let i=0;i<o;i++){let r=t[i];if(o===i+3&&t[i]==="["&&t[i+2]==="]"){e[t[i+1]]=n;return}e[r]==null&&(e[r]={}),i===o-1?e[r]=n:(r==="["&&(r=t[i+1],i++,i++),e=e[r])}}function y(e){if(e==null)throw p("value cannot be null.");return e}function G(e){if(typeof e=="number"&&!isNaN(e))return e;throw p("value should be number.")}function Ct(e,t){return e==null?t:e}function gt(e){return JSON.parse(JSON.stringify(e))}function It(e,t){return t===void 0?e:e==null?t:e}var _e=(e,t)=>{let n=e.breadcrumb;t.key!==null&&(n=n+","+t.key);let o={map:e.map,breadcrumb:n};if(t.type&&t.type[T]){let s=e.map;if(s[n]!==void 0)throw p("Problem when traversing nodes");s[n]={StateAsJson:JSON.stringify(t.stateNode.state[J]),FullTypeNameOfComponent:t.stateNode.state[T],ComponentUniqueIdentifier:t.stateNode.state[g]}}let r=t.child;for(;r;)_e(o,r),r=r.sibling},St=e=>{e.alternate&&e.actualStartTime<e.alternate.actualStartTime&&(e=e.alternate);let t=e.key,n={};n[t]={StateAsJson:JSON.stringify(e.stateNode.state[J])};let o={map:n,breadcrumb:t},i=e.child;for(;i;)_e(o,i),i=i.sibling;n[t][v]=Object.assign({},y(e.stateNode.state[v]));{let r=We(e.stateNode,"props.$jsonNode.$LogicalChildrenCount");r.success&&(n[t][v].$LogicalChildrenCount=r.value)}return{stateTree:n,rootNodeKey:t}},Q=(()=>{let e=1;return()=>e++})(),Nt=1;function Tt(e){e.$DotNetComponentInstanceId=Nt++}var de=class{constructor(t){this.data=t,this.next=null}},me=class{constructor(){this.head=null,this.size=0}add(t){let n=new de(t),o;if(this.head==null)this.head=n;else{for(o=this.head;o.next;)o=o.next;o.next=n}this.size++}removeFirst(t){let n=this.head,o=null;for(;n!=null;){if(t(n.data)===!0)return o==null?this.head=n.next:o.next=n.next,this.size--,n.data;o=n,n=n.next}return-1}first(t){let n=this.head;for(;n!=null;){if(t(n.data)===!0)return n.data;n=n.next}return null}};function vt(e,t){for(let n=0;n<e.length;n++){let o=e[n];t.indexOf(o)>=0||t.push(o)}}var pe=class{constructor(){this.component=null,this.freeSpace={},this.freeSpace[Ie]={},this.freeSpace[ge]=[]}},he=class{constructor(){this.linkedList=new me}Register(t){y(t);{let o=r=>r.component===t;if(this.linkedList.first(o))return}{let o=r=>r.component[I][0]===t[I][0],i=this.linkedList.first(o);if(i){vt(i.component[I],t[I]),i.component=t;return}}let n=new pe;n.component=t,this.linkedList.add(n)}FindComponentByDotNetComponentUniqueIdentifier(t){let n=this.FindFirstCacheItemByDotNetComponentUniqueIdentifier(t);return n?n.component:null}GetFreeSpaceOfComponent(t){let n=this.FindFirstCacheItemByDotNetComponentUniqueIdentifier(t);if(n)return n.freeSpace;throw p("AccessToFreeSpace -> ComponentNotFound. dotNetComponentUniqueIdentifier:"+t)}FindFirstCacheItemByDotNetComponentUniqueIdentifier(t){let n=o=>o.component&&o.component[I]?o.component[I].indexOf(t)>=0:!1;return this.linkedList.first(n)}Unregister(t){this.linkedList.removeFirst(n=>n.component===t)}},V=new he;function j(e){return V.GetFreeSpaceOfComponent(e[I][0])}function D(e){let t=V.FindComponentByDotNetComponentUniqueIdentifier(e);if(t==null)throw p("Component not found. dotNetComponentUniqueIdentifier: "+e);return t}function K(e){return D(e)[I][0]}function oe(e,t){if(e===t)return!0;if(e instanceof Date&&typeof t instanceof Date)return e.valueOf()===t.valueOf();if(typeof e=="object"&&typeof t=="object")return Et(e,t)}function Et(e,t){let n;for(n in e)if(e.hasOwnProperty(n)&&!oe(e[n],t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!oe(e[n],t[n]))return!1;return!0}function wt(e){return e.state.$CachedMethods}function Ne(e,t,n){let o=wt(e);if(o==null)return null;for(let i=0;i<o.length;i++){let r=o[i];if(r.MethodName===t&&r.IgnoreParameters||t==="componentDidMount"&&r.MethodName.endsWith("|componentDidMount")||r.MethodName===t&&n.length===1&&oe(n[0],r.Parameter))return r}return null}function Dt(e,t){let n=t.remoteMethodName,o=t.HandlerComponentUniqueIdentifier,i=t.FunctionNameOfGrabEventArguments,r=t.StopPropagation,s=t.KeyboardEventCallOnly,u=t.DebounceTimeout;y(n),y(o);let a=e.$onClickPreview,m=null;return a&&(m=function(){let c=D(a.$DotNetComponentUniqueIdentifier),l=X(c.state,a);c.setState(l)}),function(){if(r){if(arguments.length===0)throw p("There is no event argument for applying StopPropagation");if(arguments[0]==null||arguments[0].constructor.prototype.stopPropagation==null)throw p("Event argument not support StopPropagation");arguments[0].stopPropagation()}let c=Array.prototype.slice.call(arguments);if(s){let C=arguments[0].key;if(s.indexOf(C)<0)return;c[0].preventDefault(),c[0]=bt(c[0])}let l=D(o);i&&(c=k(i)(c));let f=Ne(l,n,c);if(f){let C=X(l.state,f.ElementAsJson);l.setState(C);return}if(u>0){let C=c[0]._reactName,q=C+"-debounce-"+K(o);$e(q);let $=C+"-debounceTimeoutId";clearTimeout(l.state[$]);let W={};W[$]=setTimeout(()=>{let _=R({component:l,remoteMethodName:n,remoteMethodArguments:c});_.name=q},u),W[S]=Q(),l.setState(W);return}R({component:l,remoteMethodName:n,remoteMethodArguments:c,onPreviewHandler:m})}}function Le(e,t,n){if(t&&t.$FakeChild===e)return n;let o=t.$children,i=n.$children;if(o&&i&&o.length<=i.length){let r=o.length;for(let s=0;s<r;s++){let u=Le(e,o[s],i[s]);if(u!=null)return u}}return null}function x(e,t){if(e==null)return null;if(typeof e=="string")return e;if(e.$FakeChild!=null&&(e=Le(e.$FakeChild,t.state[H],t.props.$jsonNode[H])),e.$isPureComponent===1){let s=Ke(e),a={key:y(e.key),$jsonNode:e};return e.$props&&Object.assign(a,e.$props),b(s,a)}if(e[T]){let s=Je(e),a={key:y(e.key),$jsonNode:e},m=e.$ReactAttributeNames;if(m)for(let l=0;l<m.length;l++){let f=m[l];a[f]=e[v][f]}let c=V.FindComponentByDotNetComponentUniqueIdentifier(e[g]);if(c){let l=G(c.state[S]),f=G(c.props[S]);a[S]=Math.max(f,l)}else a[S]=Q();return e.$props&&Object.assign(a,e.$props),b(s,a)}let n=null,o=e.$tag;if(!o)throw p("ReactNode is not recognized");let i=!1;if(o.indexOf(".")>0&&(ct(o),o=k(o),i=!0),o==="nbsp")return e&&e.length?Array(e.length).fill("\xA0").join(""):"\xA0";for(let s in e){if(!e.hasOwnProperty(s)||s[0]==="$")continue;n===null&&(n={});let u=e[s];if(u!=null){if(u.$isRemoteMethod===!0){n[s]=Dt(e,u);continue}if(u.$isBinding===!0){let c=u.targetProp,l=u.eventName,f=u.sourcePath,h=u.sourceIsState,C=u.DebounceTimeout,q=u.DebounceHandler,$=u.jsValueAccess,W=k(It(u.transformFunction,"ReactWithDotNet::Core::ReplaceEmptyStringWhenIsNull")),Z=u.HandlerComponentUniqueIdentifier,_=v;h&&(_=J),n[c]=W(Pe(D(Z).state[_],f)),n[l]=function(et){let ee=D(Z),De=gt(ee.state[_]);yt(De,f,W(Pe({e:et},$)));let te={};if(te[_]=De,C>0){let Re=l+"-debounce-"+K(Z);$e(Re);let Oe=l+"-debounceTimeoutId";clearTimeout(ee.state[Oe]),te[Oe]=setTimeout(()=>{let tt=R({component:ee,remoteMethodName:q,remoteMethodArguments:[]});tt.name=Re},C)}te[S]=Q(),ee.setState(te)};continue}if(u.$isElement===!0){n[s]=x(u.Element,t);continue}let a=u.___ItemTemplates___,m=u.___TemplateForNull___;if(a){n[s]=function(c){if(M.default.isValidElement(c))return c;if(c==null&&m)return x(m);let l=a.length;for(let f=0;f<l;f++){let h=a[f].Item,C=a[f].ElementAsJson;if(c&&c.key!=null&&h.key!=null&&h.key===c.key)return x(C)}for(let f=0;f<l;f++){let h=a[f].Item,C=a[f].ElementAsJson;if(JSON.stringify(h)===JSON.stringify(c))return x(C)}throw p("item template not found")};continue}if(u.$transformValueFunction){n[s]=k(u.$transformValueFunction)(u.RawValue);continue}}n[s]=e[s]}if(i===!0&&(n=lt(e.$tag,n,t)),e.$text!=null)return b(o,n,e.$text);let r=e.$children;if(r){let s=r.length;if(s===1)return b(o,n,x(r[0],t));let u=[];for(let a=0;a<s;a++)u.push(x(r[a],t));return b(o,n,u)}return b(o,n)}function Rt(e){let t=typeof e;return t==="string"||t==="number"||t==="boolean"||e instanceof Date||e instanceof Array}function Te(e){let t=Ct(mt(e.target,dt),e.target).id;return t===""&&(t=null),{FirstNotEmptyId:t,altKey:e.altKey,bubbles:e.bubbles,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,movementX:e.movementX,movementY:e.movementY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,timeStamp:e.timeStamp,type:e.type,target:w(e.target),currentTarget:w(e.currentTarget)}}function Ot(e){return{currentTarget:w(e.currentTarget),target:w(e.target),timeStamp:e.timeStamp,type:e.type}}function bt(e){return{currentTarget:w(e.currentTarget),target:w(e.target),timeStamp:e.timeStamp,type:e.type,keyCode:e.keyCode,key:e.key,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,which:e.which}}function xt(e){let t=w(e.target);return e._reactName==="onInput"&&(t.textContent=e.target.textContent),{bubbles:e.bubbles,target:t,timeStamp:e.timeStamp,type:e.type}}function w(e){if(e==null)return null;let t=null;e.value!=null&&typeof e.value=="string"&&(t=e.value);let n=null;e.selectedIndex!=null&&typeof e.selectedIndex=="number"&&(n=e.selectedIndex);let o=null;return e.selectionStart!=null&&typeof e.selectionStart=="number"&&(o=e.selectionStart),{id:e.id,offsetHeight:e.offsetHeight,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,offsetWidth:e.offsetWidth,selectedIndex:n,selectionStart:o,tagName:e.tagName,value:t,data:e.dataset,scrollHeight:e.scrollHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth}}function He(e,t){if(e!=null)for(let n=0;n<e.length;n++){let o=e[n].JsFunctionPath,i=e[n].JsFunctionArguments;Ve(o,t,i)}}function R(e){function t(n){e.executionQueueEntry=n,Ut(e)}return qe(t)}function Ft(e){try{return e.constructor.prototype.constructor.name==="SyntheticBaseEvent"}catch(t){return!1}}function Pt(e){if(e)for(let t=0;t<e.length;t++){let n=e[t];if(Ft(n)){let o=n._reactName;o&&(o.indexOf("Mouse")>0?e[t]=Te(n):o==="onScroll"&&(e[t]=Ot(n)))}}}function Ut(e){let t=e.remoteMethodName,n=y(e.component);if(n.ComponentWillUnmountIsCalled){P=!1,F();return}if(n=D(n[I][0]),n._reactInternals==null)throw p("Component is not ready to send server.");let o=n[T]==="ReactWithDotNet.UIDesigner.ReactWithDotNetDesignerComponentPreview,ReactWithDotNet",i=rt(()=>St(n._reactInternals));if(i.fail)throw o&&location.reload(),i.exception;let r=i.value.stateTree,s=i.value.rootNodeKey,u={MethodName:"HandleComponentEvent",EventHandlerMethodName:y(t),FullName:y(n.constructor)[T],CapturedStateTree:r,CapturedStateTreeRootNodeKey:s,ComponentKey:parseInt(y(n.props.$jsonNode.key)),LastUsedComponentUniqueIdentifier:Y,ComponentUniqueIdentifier:y(n.state[g]),CallFunctionId:e.executionQueueEntry.id};Pt(e.remoteMethodArguments),u.EventArgumentsAsJsonArray=e.remoteMethodArguments.map(JSON.stringify);function a(c){if(P=!1,c.CallFunctionId>0&&U&&U.id===c.CallFunctionId&&U.isValid===!1){F();return}if(c.ErrorMessage!=null)throw p(c.ErrorMessage);c.LastUsedComponentUniqueIdentifier>Y&&(Y=c.LastUsedComponentUniqueIdentifier);let l=c.DynamicStyles;function f(){Xe(l),F()}if(c.SkipRender){n.state[J]=c.NewState,n.state[v]=c.NewDotNetProperties,c.ClientTaskList&&(n.state[L]=c.ClientTaskList,ye(n)),f();return}let h=X(n.state,c.ElementAsJson);fe(n,h,f)}function m(c){if(o){setTimeout(()=>Ce(u,a,m),1e3);return}console.error(c),P=!1,F()}e.onPreviewHandler&&e.onPreviewHandler(),Ce(u,a,m)}function X(e,t){if(y(e[g])!==y(t[g])){let n=V.FindComponentByDotNetComponentUniqueIdentifier(e[g]);n&&n[I].push(t[g])}return t[S]=Q(),t}var ie={};function Be(e){let t=!1;for(let n=0;n<E.length;n++)e.indexOf(E[n].componentUniqueIdentifier)>=0&&(E.splice(n,1),n--,t=!0);t&&je()}function kt(e){let t=j(e)[ge];for(let n=0;n<t.length;n++)t[n]()}function A(e,t){j(e)[ge].push(t)}function At(e){kt(e),Be(e[I]),V.Unregister(e)}function ye(e){let t=e.state[L];if(t==null||t.length===0||e.ComponentWillUnmountIsCalled===!0)return!1;let n=j(e);return n.lastProcessedClientTasks===t?!1:(n.lastProcessedClientTasks=t,He(t,e),!0)}function Je(e){let t=e[T];t==="ReactWithDotNet.FunctionalComponent,ReactWithDotNet"&&(t=e[v].RenderMethodNameWithToken);let n=ie[t];if(n)return n;let o=e[T];class i extends M.default.Component{constructor(s){super(s||{});let u=this,a={};s&&(Object.assign(a,s.$jsonNode),a[S]=G(s[S])),u.state=a,a[T]=u[T]=o,u[I]=[y(s.$jsonNode[g])],Tt(u),V.Register(u)}render(){return x(this.state[H],this)}componentDidMount(){let s=this;function u(m){let c=s.state[ce];if(c==null){m!==!0&&F();return}{let h=Ne(s,"componentDidMount",[]);if(h){let $=function(){He(q,s),F()},C=X(s.state,h.ElementAsJson),q=C[L];C[ce]=null,C[L]=null,fe(s,C,$);return}}let l={};l[ce]=null;function f(){R({component:s,remoteMethodName:c,remoteMethodArguments:[]}),F()}fe(s,l,f)}ye(this)?qe(u,!0):u(!0)}componentDidUpdate(s,u){ye(this)}componentWillUnmount(){if(this.ComponentWillUnmountIsCalled===!0)throw"componentWillUnmount -> ComponentWillUnmountIsCalled called twice";this.ComponentWillUnmountIsCalled=!0,At(this)}static getDerivedStateFromProps(s,u){let a=G(u[S]),m=G(s[S]);if(a>m){let c=y(u[g]),l=y(s.$jsonNode[g]);if(c!==l){D(c)[I].push(l);let h={};return h[g]=l,h}return null}if(a<m){let c={};c[S]=m,c[H]=s.$jsonNode[H],c[L]=s.$jsonNode[L],c[v]=y(s.$jsonNode[v]),c[J]=y(s.$jsonNode[J]);let l=y(u[g]),f=y(s.$jsonNode[g]);return l!==f&&D(l)[I].push(f),c[g]=f,c}return null}}return i[T]=o,ie[t]=i,i.displayName=o.split(",")[0].split(".").pop(),i.displayName==="FunctionalComponent"&&(i.displayName=e[v].Name),i}function Ke(e){let t=e[T],n=ie[t];if(n)return n;class o extends M.default.PureComponent{render(){return x(this.props.$jsonNode[H],this)}componentWillUnmount(){let r=y(this.props.$jsonNode[g]);Be([r])}}return ie[t]=o,o.displayName=t.split(",")[0].split(".").pop(),o}function Ce(e,t,n){P=!0,e.ClientWidth=document.documentElement.clientWidth,e.ClientHeight=document.documentElement.clientHeight,e.QueryString=window.location.search;let o=B.RequestHandlerUrl,i={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};B.BeforeSendRequest&&B.BeforeSendRequest(i),window.fetch(o,i).then(r=>r.json()).then(r=>t(r)).catch(n)}var Y=1;function Ue(e,t){if(t.ErrorMessage!=null)throw t.ErrorMessage;Xe(t.DynamicStyles);let n=t.ElementAsJson,o=n.$isPureComponent===1?Ke(n):Je(n);Y=t.LastUsedComponentUniqueIdentifier;function i(a){a&&F()}let r={key:"0",$jsonNode:n,ref:i};r[S]=Q();let s=b(o,r),u=(0,Ae.createRoot)(document.getElementById(e));B.StrictMode?u.render(b(M.default.StrictMode,null,s)):u.render(s)}function Mt(e){if(e.renderInfo){if(e.idOfContainerHtmlElement==null)throw p("idOfContainerHtmlElement cannot be null.");setTimeout(()=>Ue(e.idOfContainerHtmlElement,e.renderInfo),10);return}let t=e.fullTypeNameOfReactComponent,n=e.containerHtmlElementId;Me(function(){let o={MethodName:"FetchComponent",FullName:t,LastUsedComponentUniqueIdentifier:Y,ComponentUniqueIdentifier:1};function i(s){P=!1,Ue(n,s)}function r(s){throw s}Ce(o,i,r)})}function Ve(e,t,n){return k(e).apply(t,n)}var re={"React.Fragment":M.default.Fragment};function ve(e,t){return re[e]!=null&&console.log(e+" already registered."),re[e]=t}function k(e){let t=$t(e);if(t!=null){if(t.isCacheEnabled===!0){if(t.value==null)throw p(e+" ==> isCacheEnabled is true but value property is null.");return ve(e,t.value),t.value}return t}let n=re[e];if(n==null)throw p(e+" External js object not not found. You should register by using method: ReactWithDotNet.RegisterExternalJsObject");return n}var Ge=[];function qt(e){Ge.push(e)}function $t(e){let t=Ge,n=t.length;for(let o=0;o<n;o++){let i=t[o](e);if(i!=null)return i}}function d(e,t){ve("ReactWithDotNet::Core::"+e,t)}re["ReactWithDotNet.GetExternalJsObject"]=k;d("RegExp",e=>new RegExp(e));d("IsTwoObjectEquals",oe);d("CopyToClipboard",function(e){if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(e);return}if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(n){return console.warn("Copy to clipboard failed.",n),!1}finally{document.body.removeChild(t)}}});d("RunJavascript",e=>{window.eval(e)});d("ReplaceNullWhenEmpty",function(e){return pt(e)?null:e});d("EmptyTransformFunction",function(e){return e});d("ReplaceEmptyStringWhenIsNull",function(e){return e==null?"":e});d("ListenWindowResizeEvent",function(e){let t=null;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){Ee("ReactWithDotNet::Core::OnWindowResize",[],0)},e)})});d("ConvertDotnetSerializedStringDateToJsDate",function(e){return e==null||e===""?null:new Date(e)});d("CalculateSyntheticMouseEventArguments",e=>[Te(e[0])]);d("CalculateSyntheticChangeEventArguments",e=>[xt(e[0])]);d("CalculateSyntheticFocusEventArguments",e=>{let t=e[0];return[{bubbles:t.bubbles,cancelable:t.cancelable,currentTarget:w(t.currentTarget),defaultPrevented:t.defaultPrevented,detail:t.detail,eventPhase:t.eventPhase,isTrusted:t.isTrusted,target:w(t.target),relatedTarget:w(t.relatedTarget),timeStamp:t.timeStamp,type:t.type}]});function Ye(e,t,n){let o=new Date;o.setDate(o.getDate()+n),document.cookie=[e+"="+encodeURI(t),"expires="+o.toUTCString(),"path=/"].join(";")}function Wt(e){let t=document.cookie.split(";");for(let n=0;n<t.length;n++){let o=t[n].split("=");if(e===o[0].trim())return decodeURIComponent(o[1])}return null}d("SetCookie",Ye);d("HistoryBack",function(){window.history.back()});d("HistoryForward",function(){window.history.forward()});d("HistoryGo",function(e){window.history.go(e)});d("HistoryReplaceState",function(e,t,n){e==null&&(e={}),window.history.replaceState(e,t,n)});d("GotoMethod",function(e,t,n){let o=this;n=n||[],setTimeout(()=>{if(o.ComponentWillUnmountIsCalled)return;let i=Ne(o,t,n);if(i){let s=X(o.state,i.ElementAsJson);o.setState(s);return}R({component:o,remoteMethodName:t,remoteMethodArguments:n})},e)});function Ee(e,t,n){setTimeout(()=>{N.Dispatch(e,t||[])},n)}d("DispatchEvent",Ee);function ze(e,t){return["senderPropertyFullName:"+e,"senderComponentUniqueIdentifier:"+t].join(",")}d("DispatchDotNetCustomEvent",function(e,t){let n=e.SenderPropertyFullName,o=K(e.SenderComponentUniqueIdentifier),i=ze(n,o);N.Dispatch(i,t)});d("ListenEvent",function(e,t){let n=this,o=i=>{if(n.ComponentWillUnmountIsCalled)return;let s=R({component:n,remoteMethodName:t,remoteMethodArguments:i});A(n,()=>{s.isValid=!1})};A(n,()=>{N.Remove(e,o)}),N.On(e,o)});d("ListenEventOnlyOnce",function(e,t){let n=this,o=i=>{N.Remove(e,o);let s=R({component:n,remoteMethodName:t,remoteMethodArguments:i});A(n,()=>{s.isValid=!1})};A(n,()=>{N.Remove(e,o)}),N.On(e,o)});d("InitializeDotnetComponentEventListener",function(e,t,n){let o=this;if(o.ComponentWillUnmountIsCalled)return;let i=j(o)[Ie],r=e.SenderPropertyFullName,s=K(e.SenderComponentUniqueIdentifier);n=K(n);let u=c=>{let l=D(n),h=R({component:l,remoteMethodName:t,remoteMethodArguments:c});A(l,()=>{h.isValid=!1})},a=["senderPropertyFullName:"+r,"senderComponentUniqueIdentifier:"+s,"handlerComponentUniqueIdentifier:"+n].join(",");if(i[a])return;i[a]=u;let m=ze(r,s);A(o,()=>{N.Remove(m,u),i[a]=null}),N.On(m,u)});function _t(e){let t=window.location;t.assign(t.origin+e)}d("NavigateTo",_t);function Qe(e,t,n,o,i){let r=j(e)[Ie],s=t==="remove";i=K(i);function u(m){let c=document.getElementById(n);if(c==null)return;if(!c.contains(m.target)){let h={component:D(i),remoteMethodName:o,remoteMethodArguments:[Te(m)]};R(h)}}let a="OnOutsideClicked(IdOfElement:"+n+", remoteMethodName:"+o+", @handlerComponentUniqueIdentifier:"+i+")";if(r[a]){s&&(document.removeEventListener("click",r[a]),r[a]=null);return}s||(r[a]=u,document.addEventListener("click",u),A(e,()=>{document.removeEventListener("click",u),r[a]=null}))}d("AddEventListener",function(e,t,n,o){if(t==="OutsideClick")Qe(this,"add",e,n,o);else throw p("InvalidUsageOfAddEventListener")});d("RemoveEventListener",function(e,t,n,o){if(t==="OutsideClick")Qe(this,"remove",e,n,o);else throw p("InvalidUsageOfRemoveEventListener")});function p(e){return new Error(`
ReactWithDotNet developer error occured.
`+e)}var E=[],O=null;function ke(e){let t=e.indexOf("._rwd_"),n=e.indexOf("_",t+6),o=parseInt(e.substring(t+6,n));if(isNaN(o))throw p("componentUniqueIdentifier cannot calculated from "+e);return o}function Xe(e){if(e==null||e.length===0)return;let t;for(t in e)if(e.hasOwnProperty(t)){let n=ke(t);for(let o=0;o<E.length;o++)E[o].componentUniqueIdentifier===n&&(E.splice(o,1),o--)}for(t in e)if(e.hasOwnProperty(t)){let n=e[t];E.push({cssSelector:t,cssBody:n,componentUniqueIdentifier:ke(t)})}je()}function je(){if(O===null){let n="ReactWithDotNetDynamicCss";O=document.getElementById(n),O==null&&(O=document.createElement("style"),O.id=n,document.head.appendChild(O))}let e=[];for(let n=0;n<E.length;n++){let o=E[n].cssSelector,i=E[n].cssBody;e.push(""),e.push(o),e.push("{"),e.push(i),e.push("}"),o.indexOf("@media ")===0&&e.push("}")}let t=e.join(`
`);Lt(O.innerHTML,t)||(O.innerHTML=t)}function Lt(e,t){if(e==null||t==null)return!1;let n=/\s/g;return e=e.replace(n,""),t=t.replace(n,""),e===t}function we(){return document.documentElement.clientWidth<=767}function Ze(){return document.documentElement.clientWidth<=1023&&we()===!1}function Ht(){return we()===!1&&Ze()===!1}var B={StrictMode:!1,RequestHandlerUrl:"/HandleReactWithDotNetRequest",OnDocumentReady:Me,StartAction:R,DispatchEvent:Ee,RenderComponentIn:Mt,BeforeSendRequest:e=>e,RegisterExternalJsObject:ve,GetExternalJsObject:k,BeforeAnyThirdPartyComponentAccess:ut,TryLoadCssByHref:ft,OnThirdPartyComponentPropsCalculated:at,OnFindExternalObject:qt,IsMediaMobile:we,IsMediaTablet:Ze,IsMediaDesktop:Ht,Call:Ve,Util:{SetCookie:Ye,GetCookie:Wt}};window.ReactWithDotNet=B;var Vt=B;export{Vt as a};
